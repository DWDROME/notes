# 笔记构建指南

发表于：2026-02-11

------

## 0. 前置说明

- GitHub **不再支持账号密码**做 Git 操作
- HTTPS 推送需要 **PAT（Personal Access Token）** 当“密码”
- 如果你用 SSH，但没配 key，会报：`Permission denied (publickey)`

------

## 1. Ubuntu 章节

### 1.1 安装

```bash
sudo apt update
sudo apt install -y git
git --version
```

（可选）安装 GitHub CLI（推荐）

```bash
sudo apt install -y gh
gh --version
```

------

### 1.2 创建目录

```bash
mkdir -p ~/notes
cd ~/notes
mkdir 00_INBOX 01_KNOWLEDGE 02_PROJECTS 03_LOGS 04_REFERENCE
touch README.md
```

------

### 1.3 初始化仓库

```bash
git init
git branch -M main
git add .
git commit -m "init notes structure"
```

------

### 1.4 连接 GitHub（HTTPS，推荐）

#### 1.4.1 确保 GitHub 上仓库存在

在 GitHub 网页端新建仓库：`notes`

#### 1.4.2 确保 GitHub 上仓库存在

建立排除项目

```bash
cat > .gitignore << 'EOF'
.DS_Store
Thumbs.db
*.swp
*~
.vscode/
EOF
```

建立基本说明

```bash
cat > README.md << 'EOF'
00_INBOX：所有临时记录（不整理也行）
01_KNOWLEDGE：被你用过至少两次的稳定知识
02_PROJECTS：项目/报告/交付物
03_LOGS：日志/复盘/随记
04_REFERENCE：资料、链接、摘录
EOF
```

#### 1.4.3 设置远程并推送

```bash
git remote add origin https://github.com/<username>/notes.git
git push -u origin main
```

出现提示时：

- Username：你的 GitHub 用户名
- Password：填 **PAT**

------

### 1.5 获取 PAT（Token classic）

路径：

- GitHub → Settings → Developer settings → Personal access tokens
- Tokens (classic) → Generate new token

复制 token（只显示一次）。

------

### 1.6 让它以后不再问密码（推荐二选一）

#### 方案 A：用 gh 登录（推荐）

```bash
gh auth login
```

按提示选择：

- GitHub.com
- HTTPS
- 浏览器登录（最省事）

#### 方案 B：使用 Git 凭据保存

```bash
git config --global credential.helper store
```

第一次 push 输入 token 后，以后自动记住。

------

### 1.7 配置同步命令

```bash
git config --global alias.start '!git pull'
git config --global alias.over '!git add -A && git commit -m "update" || true && git push'
```

使用：

```bash
git start   # 写之前
git over    # 写之后
```



------

## 2. Windows 章节

### 2.1 安装

- Git for Windows
- Typora
- VS Code
  （可选）GitHub CLI：`gh`

------

### 2.2 克隆仓库

```powershell
cd D:\
git clone https://github.com/<username>/notes.git
cd notes
```

------

### 2.3 Windows 端鉴权（推荐二选一）

#### 方案 A：用 gh 登录（推荐）

```powershell
gh auth login
```

选 HTTPS + 浏览器登录。

#### 方案 B：Git Credential Manager（通常自带）

第一次 push 时输入：

- Username：GitHub 用户名
- Password：PAT
  之后会自动保存。

------

### 2.4 配置同步命令

```powershell
git config --global alias.start "!git pull"
git config --global alias.over "!git add -A && git commit -m 'update' || true && git push"
```

------

## 3. 日常使用（固定流程）

```text
git start
↓
Typora 写 00_INBOX/YYYY-MM-DD.md
↓
git over
```

------

